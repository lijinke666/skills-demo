# Pivot Table S2 Skill

使用 AntV S2 库创建交互式交叉透视表的 Claude Code 技能。

## 功能

- 基于 AntV S2 专业数据可视化库
- 支持透视表和明细表两种视图模式
- 灵活配置行列维度和聚合指标
- 支持多种聚合方式（求和、计数、平均值、最大值、最小值）
- 可切换显示/隐藏总计和小计
- 响应式设计，适配不同屏幕尺寸
- 支持数据导出（需要后端配合）

## 使用方法

```typescript
// 调用技能创建透视表
/pivot-table-s2
```

## 参数说明

### 必需参数

- `data`: 数据数组，每项是一个对象
- `rows`: 行维度字段名数组
- `columns`: 列维度字段名数组
- `values`: 指标配置数组，每项包含：
  - `field`: 字段名（必需）
  - `aggregation`: 聚合方式（可选，默认为 'sum'）

### 可选参数

- `options`: 额外配置项
  - `width`: 表格宽度（默认 1160）
  - `height`: 表格高度（默认 600）
  - `showGrandTotals`: 是否显示总计（默认 true）
  - `showSubTotals`: 是否显示小计（默认 true）

## 示例

```json
{
  "data": [
    { "地区": "华北", "产品": "手机", "销售额": 1000, "数量": 10 },
    { "地区": "华北", "产品": "电脑", "销售额": 2000, "数量": 5 },
    { "地区": "华南", "产品": "手机", "销售额": 1500, "数量": 15 },
    { "地区": "华南", "产品": "电脑", "销售额": 3000, "数量": 8 }
  ],
  "rows": ["地区"],
  "columns": ["产品"],
  "values": [
    { "field": "销售额", "aggregation": "sum" },
    { "field": "数量", "aggregation": "sum" }
  ],
  "options": {
    "width": 1000,
    "height": 500,
    "showGrandTotals": true
  }
}
```

## 输出

生成一个 HTML 文件，包含：
- 交互式透视表/明细表
- 布局模式切换按钮
- 总计显示控制
- 数据导出按钮
- 配置信息显示

## 注意事项

1. 需要网络连接以加载 AntV S2 库
2. 大数据量时可能需要分页或虚拟滚动优化
3. 导出功能需要后端支持实现完整功能
4. 建议数据量控制在万级以内以获得最佳性能